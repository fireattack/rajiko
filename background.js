const aSmartPhone7o_key = "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";
//multi token stuff
// JPX: { token: xx , requestTime: date.now }
let authTokens = {};
function ExpireToken(){
}
ExpireToken.prototype.add = function(area, token) {
  let me = this;
  if(authTokens[area]){ //avoid delete after update 
    clearTimeout(authTokens[area].timer);
  }
  let timer = setTimeout(function() {
    delete authTokens[area];
  }, 42e5);
  authTokens[area] = {
    token: token,
    requestTime: Date.now(),
    timer : timer 
  };
  //radiko will reactive  default area token by auth1/2 , not to get new on.
  //should i reduce some seconds to avoid expire (choose this)  or update itself(should rewrite retTokenByRadioname 'cause it think not expired) ?
  /*delete self after 1 hr default area one let radikojsplayer handle. 
  [test show that the token only have 1.1 hrs life no matter active or not?]
  see code at: radikoJSPlayer.js?_=20180330:formatted:14022
  setInterval(function() {s.authorization() }, 42e5) 
  */
}

// NOTE: sync function!!
function retTokenByRadioname(radioname,default_area_id){
  let availableArea = radioAreaId[radioname].area;
  let hadTokenArea = availableArea.filter(function(a){
    return !!authTokens[a];
  })

  if(hadTokenArea.length!=0){
    let pickArea = hadTokenArea.includes(default_area_id) ? default_area_id  : hadTokenArea[0];
    return [authTokens[pickArea].token,pickArea];
  }
  let pickArea = availableArea[(Math.floor(Math.random() * availableArea.length)) >> 0];
  let info = genRandomInfo();
  let auth1 = new XMLHttpRequest()
  auth1.open('GET',"https://radiko.jp/v2/api/auth1",false); 

  //TODO: for chrome : let webrequest listener modify useragent ?
  auth1.setRequestHeader('User-Agent',info.useragent); //refused by chrome but may accept by firefox
  auth1.setRequestHeader('X-Radiko-App','aSmartPhone7o');
  auth1.setRequestHeader('X-Radiko-App-Version',info.appversion);
  auth1.setRequestHeader('X-Radiko-Device',info.device);
  auth1.setRequestHeader('X-Radiko-User',info.userid);

  auth1.withCredentials = false;
  auth1.send();
  // case-insensitive
  let token = auth1.getResponseHeader('x-radiko-authtoken')
  let offset = parseInt(auth1.getResponseHeader('x-radiko-keyoffset'));
  let length = parseInt(auth1.getResponseHeader('x-radiko-keylength'));
  let partial = btoa(atob(aSmartPhone7o_key).slice(offset, offset + length));


  let auth2 = new XMLHttpRequest()
  auth2.open('GET','https://radiko.jp/v2/api/auth2',false);

  auth2.setRequestHeader('User-Agent',info.useragent); //refused  by chrome but may accept by firefox
  auth2.setRequestHeader('X-Radiko-App','aSmartPhone7o');
  auth2.setRequestHeader('X-Radiko-App-Version',info.appversion);
  auth2.setRequestHeader('X-Radiko-AuthToken',token)
  auth2.setRequestHeader('X-Radiko-Device',info.device);
  auth2.setRequestHeader('X-Radiko-User',info.userid);

  auth2.setRequestHeader('X-Radiko-Location',genGPS(pickArea));
  auth2.setRequestHeader('X-Radiko-Connection',"wifi");
  auth2.setRequestHeader('X-Radiko-Partialkey',partial);

  auth2.withCredentials = false;
  auth2.send();

  let res  = (new ExpireToken()).add(pickArea,token); 
  return [token,pickArea]; 
}

function retTokenByRadioname_async(radioname,default_area_id, callback){
  let availableArea = radioAreaId[radioname].area;
  let hadTokenArea = availableArea.filter(function(a){
    return !!authTokens[a];
  })

  if(hadTokenArea.length!=0){
    let pickArea = hadTokenArea.includes(default_area_id) ? default_area_id  : hadTokenArea[0];
    return callback(authTokens[pickArea].token , pickArea);
  }
  let pickArea = availableArea[(Math.floor(Math.random() * availableArea.length)) >> 0];
  let info = genRandomInfo();
  let auth1 = new XMLHttpRequest()
  auth1.open('GET',"https://radiko.jp/v2/api/auth1"); //sync

  auth1.setRequestHeader('User-Agent',info.useragent); //refused by chrome but may accept by firefox
  auth1.setRequestHeader('X-Radiko-App','aSmartPhone7o');
  auth1.setRequestHeader('X-Radiko-App-Version',info.appversion);
  auth1.setRequestHeader('X-Radiko-Device',info.device);
  auth1.setRequestHeader('X-Radiko-User',info.userid);
  auth1.withCredentials = false;

  auth1.onload = function(xhrevent){
    // case-insensitive
    let token = this.getResponseHeader('x-radiko-authtoken')
    let offset = parseInt(this.getResponseHeader('x-radiko-keyoffset'));
    let length = parseInt(this.getResponseHeader('x-radiko-keylength'));
    let partial = btoa(atob(aSmartPhone7o_key).slice(offset, offset + length));

    let auth2 = new XMLHttpRequest()
    auth2.open('GET','https://radiko.jp/v2/api/auth2');

    //TODO: for chrome : let webrequest listener modify useragent ?
    auth2.setRequestHeader('User-Agent',info.useragent); //refused  by chrome but may accept by firefox
    auth2.setRequestHeader('X-Radiko-App','aSmartPhone7o');
    auth2.setRequestHeader('X-Radiko-App-Version',info.appversion);
    auth2.setRequestHeader('X-Radiko-AuthToken',token)
    auth2.setRequestHeader('X-Radiko-Device',info.device);
    auth2.setRequestHeader('X-Radiko-User',info.userid);

    auth2.setRequestHeader('X-Radiko-Location',genGPS(pickArea));
    auth2.setRequestHeader('X-Radiko-Connection',"wifi");
    auth2.setRequestHeader('X-Radiko-Partialkey',partial);

    auth2.withCredentials = false;

    auth2.onload = function(xhrevent){
      let res  = (new ExpireToken()).add(pickArea,token); 
      return callback(token,pickArea); 
    }
    auth2.send();    
  }
  auth1.send();
}


//geo & device info stuff
//data source (capital of prefectures): https://www.benricho.org/chimei/latlng_data.html  
//data source :  jp.radiko.Player.V6FragmentAreaCheck.freeloc_init
const coordinates = {
  "北海道": [43.064615, 141.346807],
  "青森": [40.824308, 140.739998],
  "岩手": [39.703619, 141.152684],
  "宮城": [38.268837, 140.8721],
  "秋田": [39.718614, 140.102364],
  "山形": [38.240436, 140.363633],
  "福島": [37.750299, 140.467551],
  "茨城": [36.341811, 140.446793],
  "栃木": [36.565725, 139.883565],
  "群馬": [36.390668, 139.060406],
  "埼玉": [35.856999, 139.648849],
  "千葉": [35.605057, 140.123306],
  "東京": [35.689488, 139.691706],
  "神奈川": [35.447507, 139.642345],
  "新潟": [37.902552, 139.023095],
  "富山": [36.695291, 137.211338],
  "石川": [36.594682, 136.625573],
  "福井": [36.065178, 136.221527],
  "山梨": [35.664158, 138.568449],
  "長野": [36.651299, 138.180956],
  "岐阜": [35.391227, 136.722291],
  "静岡": [34.97712, 138.383084],
  "愛知": [35.180188, 136.906565],
  "三重": [34.730283, 136.508588],
  "滋賀": [35.004531, 135.86859],
  "京都": [35.021247, 135.755597],
  "大阪": [34.686297, 135.519661],
  "兵庫": [34.691269, 135.183071],
  "奈良": [34.685334, 135.832742],
  "和歌山": [34.225987, 135.167509],
  "鳥取": [35.503891, 134.237736],
  "島根": [35.472295, 133.0505],
  "岡山": [34.661751, 133.934406],
  "広島": [34.39656, 132.459622],
  "山口": [34.185956, 131.470649],
  "徳島": [34.065718, 134.55936],
  "香川": [34.340149, 134.043444],
  "愛媛": [33.841624, 132.765681],
  "高知": [33.559706, 133.531079],
  "福岡": [33.606576, 130.418297],
  "佐賀": [33.249442, 130.299794],
  "長崎": [32.744839, 129.873756],
  "熊本": [32.789827, 130.741667],
  "大分": [33.238172, 131.612619],
  "宮崎": [31.911096, 131.423893],
  "鹿児島": [31.560146, 130.557978],
  "沖縄": [26.2124, 127.680932]
};

//range detail :http://www.gsi.go.jp/KOKUJYOHO/CENTER/zenken.htm

//build number :https://www.androidpolice.com/android-build-number-date-calculator/
//https://source.android.com/setup/build-numbers

const VERSION_MAP = {
  // Accroding to  https://radiko.jp/#!/info/2558
  "7.0.0": { sdk: "24", builds: ["NBD92Q", "NBD92N", "NBD92G", "NBD92F", "NBD92E", "NBD92D", "NBD91Z", "NBD91Y", "NBD91X", "NBD91U", "N5D91L", "NBD91P", "NRD91K", "NRD91N", "NBD90Z", "NBD90X", "NBD90W", "NRD91D", "NRD90U", "NRD90T", "NRD90S", "NRD90R", "NRD90M"] },
  "7.1.0": { sdk: "25", builds: ["NDE63X", "NDE63V", "NDE63U", "NDE63P", "NDE63L", "NDE63H"] },
  "7.1.1": { sdk: "25", builds: ["N9F27M", "NGI77B", "N6F27M", "N4F27P", "N9F27L", "NGI55D", "N4F27O", "N8I11B", "N9F27H", "N6F27I", "N4F27K", "N9F27F", "N6F27H", "N4F27I", "N9F27C", "N6F27E", "N4F27E", "N6F27C", "N4F27B", "N6F26Y", "NOF27D", "N4F26X", "N4F26U", "N6F26U", "NUF26N", "NOF27C", "NOF27B", "N4F26T", "NMF27D", "NMF26X", "NOF26W", "NOF26V", "N6F26R", "NUF26K", "N4F26Q", "N4F26O", "N6F26Q", "N4F26M", "N4F26J", "N4F26I", "NMF26V", "NMF26U", "NMF26R", "NMF26Q", "NMF26O", "NMF26J", "NMF26H", "NMF26F"] },
  "7.1.2": { sdk: "25", builds: ["N2G48H", "NZH54D", "NKG47S", "NHG47Q", "NJH47F", "N2G48C", "NZH54B", "NKG47M", "NJH47D", "NHG47O", "N2G48B", "N2G47Z", "NJH47B", "NJH34C", "NKG47L", "NHG47N", "N2G47X", "N2G47W", "NHG47L", "N2G47T", "N2G47R", "N2G47O", "NHG47K", "N2G47J", "N2G47H", "N2G47F", "N2G47E", "N2G47D"] },
  "8.0.0": { sdk: "26", builds: ["5650811", "5796467", "5948681", "6107732", "6127070"] },
  "8.1.0": { sdk: "27", builds: ["5794017", "6107733", "6037697"] },
  "9.0.0": { sdk: "28", builds: ["5948683", "5794013", "6127072"] },
  "10.0.0": { sdk: "29", builds: ["5933585", "6969601", "7023426" , "7070703"] },
  "11.0.0": { sdk:"30" , builds: ["RP1A.201005.006", "RQ1A.201205.011", "RQ1A.210105.002"]},
  "12.0.0": { sdk: "31" , builds: ["SD1A.210817.015.A4", "SD1A.210817.019.B1", "SD1A.210817.037", "SQ1D.220105.007"]},
};

// Just wondering that nowadays are there any japanese using Android phones. 
const MODEL_LIST = [
  "SM-A525F","SM-A525M","SM-A526B","SM-A5260","SM-A526W","SM-A526U","SM-A526U1","SM-A725F","SM-A725M","SM-E025F","SM-F127G","SM-F127F","SM-A826S","SM-M426B","SM-E5260","SM-A225F","SM-A225M","SM-A226B","SM-A226BR","SM-A226BR/N","SM-M325FV","SM-M325F","SM-E225F","SM-M215G","SM-A127F","SM-A127M","SM-A127U","SM-F711B","SM-F711N","SM-F711U","SM-F711U1","SM-F711W","SM-F7110","SM-F926B","SM-F926U","SM-F926U1","SM-F926W","SM-F9260","SM-F926N","SM-A528B","SM-A528N","SM-A037F","SM-A037M","SM-A037G","SM-A037U","SM-S134DL","SM-A037W","SM-M326B","SM-M225FV","SM-M526BR","SM-M526B","SM-E426B","SM-A032F","SM-A032M","SM-A035F","SM-A035M","SM-A035G","SM-A136U","SM-A136U1","SM-A136W","SM-G990B","SM-G990U","SM-G990U1","SM-G990W","SM-G990E","SM-G9900","SM-S901B","SM-S901U","SM-S901U1","SM-S901W","SM-S901N","SM-S9010","SM-S901E","SM-S906B","SM-S906U","SM-S906U1","SM-S906W","SM-S906N","SM-S9060","SM-S906E","SM-S908B","SM-S908U","SM-S908U1","SM-S908W","SM-S908N","SM-S9080","SM-S908E","SM-A135F","SM-A135M","SM-A135U","SM-A135U1","SM-A235F","SM-A235M","SM-M236B","SM-M336B","SM-M336BU","SM-E236B","SM-A336E","SM-A336B","SM-A336M","SM-A536B","SM-A536U","SM-A536U1","SM-A5360","SM-A536E","SM-A536V","SM-A536W","SM-A736B","SM-G781NK","SM-G781NK22","SM-M536B","SM-M135F","SM-E135F","SM-G736U","SM-G736U1","SM-G736B","SM-A137F","SM-M136B","SM-A236U","SM-A236U1","SM-A236B","SM-F721B","SM-F721N","SM-F721U","SM-F721U1","SM-F721W","SM-F936B","SM-F936U","SM-F936U1","SM-F936N","SM-F936W","SM-A045F","SM-A047F"
  //Samsung a52 to a04e
  ,"H9436", "H8416", "H9493", "H4413", "H4493", "H3413", "I3312", "I4312", "I4332", "I3322", "I3113", "I4113", "I4193", "I3123", "I3213", "I4213", "I4293", "I3223", "J8110", "J8170", "J9110", "J9150", "SOV40", "SO-03L", "J8210", "J8270", "J9210", "SOV41", "SO-01M", "XQ-AD52", "XQ-AD51", "XQ-AU51", "XQ-AU52", "XQ-AT51", "XQ-AT52", "SOG01", "SO-52A", "XQ-AS52", "XQ-AS62", "XQ-AS72", "A002SO", "SOG02", "SO-52B", "SOG04", "XQ-BT52", "A102SO", "XQBQ62/G", "XQBQ52G.UKCX", "XQBQ52B.UKCX", "XQ-BQ52", "XQ-BQ72", "XQ-BQ42", "XQBC62/V", "XQBC52V.UKCX", "SO-51B", "SOG03", "A101SO", "XQ-BC62", "XQ-BC72", "XQ-BC52", "XQ-BC01", "XQ-BC11", "XQ-BC21", "XQ-BC72", "XQ-BT44", "XQ-BE62", "XQBE62-B", "XQ-BE62-B", "XQ-BE62/B", "XQ-BE42", "XQ-BE42-B", "XQ-BE42/B", "XQ-BE72", "XQ-BE52", "XQ-CC54", "XQCT62-B", "XQCT54", "XQCT54C0V.YD", "XQCT54C0B.YD", "XQCT54C0W.YD", "XQCT54C0V.EEAC", "XQCT54C0B.EEAC", "XQ-CT72", "XQ-CT54", "XQCQ62B-GC", "XQCQ62G.GC", "XQ-CQ72/B2TWCX0", "XQ-CQ72/C2TWCX0", "XQ-CQ72/G2TWCX0", "XQCQ54C0B.YD", "XQCQ54C0G.YD", "XQCQ54C0C.YD",
  //sony xperia from XZ3 to 5IV
  ,"SH-04L","808SH","SHV44","SHV48","SH-M11", "SH-RM14","SH-41A","SHG03","SH-51B","SHG04","SHG05","SHG07","SH-52C","SH-51C","SH-53C", "SHG10",
  //sharp
  ,"801FJ", "F41-A", "F-51A",  "F-52A", "F-51B"
  //fujitu arrows
  ,"G020A", "G020E", "G020B" ,"G020C", "G020G", "G020F","G020M", "G020I","G020P","G020","G025J","GA02099", "GD1YQ","G025I","GD1YQ","GTT9Q","GB7N6","G9S9B16","GLUOG","G8VOU","GB62Z","GB17L","G1AZG","GX7AS", "GVU6C","GQML3", "GP4BC", "GE2AE"
  // pixel 3axl -> 7pro
];

function genRandomInfo() {
  let version = Object.keys(VERSION_MAP)[(Math.floor(Math.random() * Object.keys(VERSION_MAP).length)) >> 0];
  let sdk = VERSION_MAP[version].sdk;
  let build = VERSION_MAP[version].builds[(Math.floor(Math.random() * VERSION_MAP[version].builds.length)) >> 0];
  //Dalvik/2.1.0 (Linux; U; Android %VERSION%; %MODEL%/%BUILD%)
  //X-Radiko-Device: %SDKVERSION%.%NORMALIZEMODEL%
  let model = MODEL_LIST[(Math.floor(Math.random() * MODEL_LIST.length)) >> 0];
  let device = sdk + "." + model;
  let useragent = "Dalvik/2.1.0 (Linux; U; Android " + version + "; " + model + "/" + build + ")";

  let appversion = function() {
    // Min version should follow  https://radiko.jp/res/app/update/config.json from https://radiko.jp/res/app/config/aSmartPhone7a.xml
    let version = ["7.5.1", "7.5.0", "7.4.17", "7.4.16", "7.4.15", "7.4.14", "7.4.13", "7.4.12", "7.4.11", "7.4.10", "7.4.9", "7.4.8", "7.4.7", "7.4.6","7.4.5","7.4.4","7.4.3","7.4.2","7.4.1","7.4.0","7.3.8","7.3.7","7.3.6"];
    return version[(Math.floor(Math.random() * version.length)) >> 0];
  }();

  let userid = function() {
    let hex = ['0', '1', '2', '3', '4', '5', '6', '7', '8', '9', 'a', 'b', 'c', 'd', 'e', 'f'];
    let s = '';
    for (let i = 0; i < 32; i++) {
      s += hex[(Math.floor(Math.random() * hex.length)) >> 0];
    }
    return s;
  }();

  return {
    appversion: appversion,
    userid: userid,
    useragent: useragent,
    device: device
  }
}

//remove accept-language accept cookie   referer 
//pragma accept Cache-Control and origin(for cors) cannot be removed
const IGNORELIST = ["accept-language", "accept", "cookie", "referer", "x-radiko-user", "x-radiko-app-version", "x-radiko-app", "x-radiko-device", "x-radiko-partialkey"];
const XHRREFUSELIST = ["origin" , "user-agent" , "referer" ,"accept-encoding", /*For using xhr in firefox*/"host","connection"];

function genGPS(area_id) {
  let latlong = coordinates[areaList[parseInt(area_id.substr(2)) - 1]];
  let lat = latlong[0];
  let long = latlong[1];
  // +/- 0 ~ 0.025 --> 0 ~ 1.5' ->  +/-  0 ~ 2.77/2.13km
  lat = lat + Math.random() / 40.0 * (Math.random() > 0.5 ? 1 : -1);
  long = long + Math.random() / 40.0 * (Math.random() > 0.5 ? 1 : -1);
  return lat.toFixed(6) + "," + long.toFixed(6) + ",gps";
}

//TODO: optimize this to avoid high cpu usage 
if( typeof browser === "undefined"){  //see webextension-polyfill
  // for chrome
  //see chroumium bug:  https://bugs.chromium.org/p/chromium/issues/detail?id=831062
  function ab2str(buf,offset){
    return String.fromCharCode.apply(null, new Uint8Array(buf,offset)); //uint16 will raise must multiple of 2  error 
  }
  function str2ab(str) {
    let buf = new ArrayBuffer(str.length); // Uint16 -> 2 bytes for each char  *2
    let bufView = new Uint8Array(buf); // U16

    for (let i = 0, strLen = str.length; i < strLen; i++) {
      bufView[i] = str.charCodeAt(i);
    }
    return buf;
  }
}else{
  //for firefox save memory via Uint16Array , use pkcs5 for padding.
  function ab2str(buf,offset) {
    let len = buf.byteLength - offset;
    let padding = len %8 ==0 ? 8:len %8;
    let crafted = new Uint8Array(len + padding );
    let p = new Array(padding);
    for(let i =0;i<padding;i++){
      p[i] = padding;
    }
    crafted.set(new Uint8Array(buf,offset),0);
    crafted.set(p,len);
    return String.fromCharCode.apply(null, new Uint16Array(crafted.buffer));
  }
  function str2ab(str) {
    let buf = new ArrayBuffer(str.length * 2); 
    let bufView = new Uint16Array(buf);
    let paddingView = new Uint8Array(buf);
    for (let i = 0, strLen = str.length; i < strLen; i++) {
      bufView[i] = str.charCodeAt(i);
    }
    let padding = paddingView[str.length*2 - 1];
    return buf.slice(0,str.length*2 - padding);
  }

  //polyfill
  //see https://github.com/kiefferbp/webext-getBytesInUse-polyfill/blob/master/index.js
  //Poor performance!!
  chrome.storage.local.getBytesInUse = function(keys, callback) {
    let size = 0;
    if (typeof keys === 'string') {
      keys = [keys];
    }
    chrome.storage.local.get(keys, function(results) {
      let lastError = chrome.runtime.lastError;
      if (lastError) {
        callback(-1);
        return;
      }
      Object.keys(results).forEach(function(key) {
        size += (key + JSON.stringify(results[key])).length;
      });
      callback(size);
    });
  }

}

//aac parse stuff
//parse hls packed audio (id3 tags and data)
// return id3 tag size and timestamp of this packed audio if success else return [0,0]
function parseAAC(data){ //data -> Arraybuffer
	let processing =  new DataView(data);
	if( processing.getUint8(0) != 73 || processing.getUint8(1) != 68 || processing.getUint8(2) != 51){  // ID3
		return [0,0];
	}
	let id3payloadsize = processing.getUint32(6,false) ; //bigendian
	let id3tagsize = 10 + id3payloadsize ; //header size + payloadsize

	let timestampLow = processing.getUint32(id3tagsize - 4,false); // 32bit
	let timestampHigh = processing.getUint32(id3tagsize - 8 ,false); //need only the last bit
	let timestamp =  timestampLow + 0xffffffff * timestampHigh;
	return [id3tagsize,timestamp];
}


//download live stuff

// {current_recording: {radioname: xxx , start_time : xxx , end_time: xxx , count:0}}
// TODO : why do i need to store this in storage.local??? popup needs ,but can pass by msg

//  aac id seq
// 50
// 51 may cancel
// 38
// 51
// after stop and resume -> how to handle this? solution: stop recording when pause clicked!
// 27
// 28 may cancel
// 16
// 28
function streamListener(){
  let started  = false;
  let count = 0; //storage also need count for downloading
  let start_time;
  let end_time;
  let timestamp2Filename =  function(t) {
    let d = new Date(t);
    let d_str = '' + d.getFullYear();
    d_str += (d.getMonth() + 1).toString().length == 1 ? '0' + (d.getMonth() + 1).toString() : (d.getMonth() + 1).toString();
    d_str += d.getDate().toString().length == 1 ? '0' + d.getDate() : '' + d.getDate();
    d_str += d.getHours().toString().length == 1 ? '0' + d.getHours() : '' + d.getHours();
    d_str += d.getMinutes().toString().length == 1 ? '0' + d.getMinutes() : '' + d.getMinutes();
    d_str += d.getSeconds().toString().length == 1 ? '0' + d.getSeconds() : '' + d.getSeconds();
    return d_str;
  }
  let listenerFunc =  function(req){
    chrome.storage.local.get("current_recording",function(data){
      if(data["current_recording"]){ 
        let info = data["current_recording"];
        let radioname = info["radioname"];
        end_time = (new Date()).getTime();
        if(!started){
          started = true;
          start_time =end_time;
        } //seems like jump-back problem disappered!
        if(chrome.webRequest.filterResponseData){
          let filter = chrome.webRequest.filterResponseData(req.requestId);
          let audio_uint8 = null ;
          filter.onstart = function(event){
              // console.log(filename,"start!!!!",event);
          }
          filter.ondata = function(event){
            filter.write(event.data);//pass through
            if(audio_uint8 == null){
              audio_uint8 = new Uint8Array(event.data);
            }else{
              let tmp = new Uint8Array(audio_uint8.byteLength + event.data.byteLength);
              tmp.set(audio_uint8,0);
              tmp.set(new Uint8Array(event.data),audio_uint8.byteLength);
              audio_uint8 = tmp;
            }
          }
            filter.onstop = function(event){
              filter.disconnect();
              if(audio_uint8 == null ){
                return {} ; //a strange request by radiko get 0 bytes;
              }
              let audio_string =  ab2str(audio_uint8.buffer , parseAAC(audio_uint8.buffer)[0]); // drop id3 tag ;timestamp not used for now
              let storage_set ={};

              storage_set[radioname+'_'+ start_time + '_' + count ] = audio_string;
              count += 1;
              // info["count"] = count;  //info[count] get before set is common and may set wrong.
              storage_set["current_recording"] = info;

              chrome.storage.local.set(storage_set,function(){
                if(chrome.runtime.lastError){
                  console.log("store error",chrome.runtime.lastError);
                }
              });
   
            }        
        }
        else{
          let ifInit = req.initiator && req.initiator.toLowerCase().indexOf("chrome-extension")!=-1;  //initiator since chrome 63
          let ifTabId = req.tabId && req.tabId ==-1; //mean this request is not from tab
          
          //be careful !!! the request would inetercept itself!!!
          if(ifInit || ifTabId){ 
            //to avoid recursion
            return;
          }
            
          let xhr = new XMLHttpRequest();
          xhr.open('GET',req.url); 
          req.requestHeaders.map(function(x){ //set token and other headers
            if(!XHRREFUSELIST.includes(x.name.toLowerCase())){
              xhr.setRequestHeader(x.name,x.value);  
            }
          });
          xhr.responseType = 'arraybuffer';
          xhr.onload = function(xhrevent){
            //FIX: chrome in Linux has some data loss --> 00 is disappered? the lastest version of chrome has not this problem . Currently Appears only on chrome v50 linux.
            let audio_string =  ab2str(this.response, parseAAC(this.response)[0]); //timestamp not used for now.
            let storage_set ={};
            storage_set[radioname+'_'+ start_time + '_' + count ] = audio_string;
            count += 1;
            // info["count"] = count;  //info[count] get before set is common and may set wrong.
            storage_set["current_recording"] = info;

            chrome.storage.local.set(storage_set,function(){
              if(chrome.runtime.lastError){
                console.log("store error",chrome.runtime.lastError);
              }
            });
          }
          xhr.send();

        }
      }else{
        console.log("should not go here!!");
      }
    });

    return {};
  } ;
  let stopmeFunc =function(msg, sender, respCallback) {
    if (msg["stop-recording"]) { //do stop recording caused by pause button need same tabid?
      respCallback();
      chrome.runtime.onMessage.removeListener(stopmeFunc);
      chrome.webRequest.onBeforeSendHeaders.removeListener(listenerFunc);
      console.log("ready to download!");
      chrome.storage.local.get("current_recording", function(data) {
        if (data["current_recording"]) {
          let info = data["current_recording"]
          let radioname = info["radioname"];
          let filename = timestamp2Filename(start_time) + "_" + timestamp2Filename(end_time) + ".aac";
          if(count == 0){
            chrome.storage.local.remove("current_recording", function() {});
            return;
          }

          let keyList = new Array(count);
          for (let i = 0; i < count; i++) {
            keyList[i] = radioname + '_' + start_time + '_' + i;
          }

          chrome.storage.local.get(keyList, function(data) {
            if (data) {
              let audio_buf = keyList.map(function(x) {
                return str2ab(data[x]);
              });

              let audiodata = new Blob(audio_buf, {
                type: "audio/aac"
              });
              let audiourl = URL.createObjectURL(audiodata); //you shall free this
              chrome.downloads.download({
                url: audiourl,
                filename: radioname + "/" + filename
              }, function(downloadId) {
                // for firefox https://bugzilla.mozilla.org/show_bug.cgi?id=1521308
                chrome.downloads.onChanged.addListener(function handler(delta) {
                  if (delta.id == downloadId && delta.state && delta.state.current === "complete") {
                    console.log("download done!");
                    chrome.downloads.onChanged.removeListener(handler);
                    URL.revokeObjectURL(audiourl);
                    keyList.push("current_recording") // also remove current_recording
                    chrome.storage.local.remove(keyList, function() {
                      console.log("clean done!");
                      if (chrome.runtime.lastError) {
                        console.log("cleanup error", chrome.runtime.lastError);
                      }
                    })
                  }
                });
              });
            }
          });

        }

      }) //
      chrome.browserAction.setIcon && chrome.browserAction.setIcon({
        path: 'Circle-icons-radio-blue-48.png'
      })
    }
  };
  chrome.runtime.onMessage.addListener(stopmeFunc);

  return listenerFunc;
}

//https://github.com/hughsk/map-limit/blob/master/test.js
function mapLimit(arr, limit, iterator, callback) {
  let complete = 0;
  let aborted = false;
  let results = [];
  let queued = 0;
  let l = arr.length;
  let i = 0;

  for (let r = 0; r < l; r++) {
    results[r] = null;
  }

  flush();

  function flush() {
    if (complete === l){ 
      return callback(null, results);
    }

    while (queued < limit) {
      if (aborted){ break; }
      if (i === l){ break; }
      push();
    }
  }

  function abort(err) {
    aborted = true;
    return callback(err,results); //return results althrough error , becasue we need cleanup
  }

  function push() {
    let idx = i++;

    queued += 1;

    iterator(arr[idx],idx, function(err, result) {
      if (err) {return abort(err);}
      results[idx] = result;
      complete += 1;
      queued -= 1;
      flush();
    });
  }
}

function downloadtimeShift(m3u8link, default_area_id) {
  let radioname, from, to;
  (new URL(m3u8link)).search.slice(1).split('&').map(function(kv) {
    let s = kv.split('=');
    switch (s[0]) {
      case 'station_id':
        radioname = s[1];
        break;
      case 'ft':
        from = s[1];
        break;
      case 'to':
        to = s[1];
        break;
    }
  });
  let filename = radioname + '_' + from + '_' + to + '.aac';
  console.log("timeshift file", filename);

  retTokenByRadioname_async(radioname, default_area_id, function(token,pickArea) {
    let q1 = new XMLHttpRequest();
    q1.open('GET', m3u8link);
    q1.setRequestHeader('X-Radiko-AreaId',pickArea);
    q1.setRequestHeader('X-Radiko-AuthToken', token);
    q1.onload = function(xhrevent) {
      let resp = this.responseText;
      let detailLink = resp.split('\n').filter(function(d) {
        return d[0] != '#' && d.trim() != '';
      })[0];
      let q2 = new XMLHttpRequest();
      q2.open('GET', detailLink);
      q2.setRequestHeader('X-Radiko-AreaId',pickArea);
      q2.setRequestHeader('X-Radiko-AuthToken', token);

      q2.onload = function(xhrevent) {
        let resp = this.responseText;
        let links = resp.split('\n').filter(function(d) {
          return d[0] != '#' && d.trim() != '';
        });

        mapLimit(links,6,function(item,idx,next){
          let storekey = filename + '_' + idx;
          let req = new XMLHttpRequest();
          req.open('GET', item);
          req.responseType = 'arraybuffer';
          req.onload = function(xhrevent) {
            let audio_string = ab2str(this.response, parseAAC(this.response)[0]); //timestamp not used for now.
            let storage_set = {};
            storage_set[storekey] = audio_string;

            chrome.storage.local.set(storage_set, function() {
              if (chrome.runtime.lastError) {
                next(chrome.runtime.lastError,null); //no data in storage yet.
              }else{
                next(null,storekey);
              }
            });
          }
          req.onloadend  = function(event){
              //can this capture MISMATCH?
              //see https://stackoverflow.com/questions/48127436/how-to-catch-chrome-error-neterr-file-not-found-in-xmlhttprequest
            if(!event.loaded){
              //net::ERR_NETWORK_CHANGED goes here
              //can reload other already downloaded from disk cache ,so do not retry by iteself.
              //cacnel
              let err = true;
              next(err,null);
            }
          }
          //TODO: dont know why MISMATCH cannot handle in here
          req.addEventListener('error',function(){
              let err = true;
              next(err,null);
          })
          req.send();          

        },function(err,keyList){
          if(err){
            chrome.storage.local.get({"timeshift_list":[]},function(data){
              let list = data["timeshift_list"];
              list = list.filter(function(l){
                return l !==m3u8link;
              });
              chrome.storage.local.set({"timeshift_list":list},function(){
                chrome.browserAction.setBadgeText && chrome.browserAction.setBadgeText({text: list.length > 0? list.length.toString() :""});
              });
            });

            chrome.storage.local.remove(keyList.filter(function(val) {
              return !val
            }), function() {

            });
          }else{
            chrome.storage.local.get(keyList, function(data) {
              if (data) {
                let audio_buf = keyList.map(function(x) {
                  return str2ab(data[x]);
                })
                let audiodata = new Blob(audio_buf, {
                  type: "audio/aac"
                });
                let audiourl = URL.createObjectURL(audiodata); //you shall free this via URL.revokeObjectURL
                chrome.downloads.download({
                  url: audiourl,
                  filename: filename
                }, function(downloadId) {
                  chrome.downloads.onChanged.addListener(function handler(delta) {
                    if (delta.id == downloadId && delta.state && delta.state.current === "complete") {
                      console.log("download done!");
                      chrome.downloads.onChanged.removeListener(handler);
                      URL.revokeObjectURL(audiourl);
                      chrome.storage.local.get({"timeshift_list":[]},function(data){
                        let list = data["timeshift_list"];
                        list = list.filter(function(l){
                          return l !==m3u8link;
                        });
                        chrome.storage.local.set({"timeshift_list":list},function(){
                          chrome.browserAction.setBadgeText && chrome.browserAction.setBadgeText({text: list.length > 0? list.length.toString() :""});
                        });
                      });
                      chrome.storage.local.remove(keyList, function() {
                        console.log("clean done!");
                        if (chrome.runtime.lastError) {
                          console.log("cleanup error", chrome.runtime.lastError);
                        }
                      });
                    }
                  });
                });
              }
            });
          }

        });

      }
      q2.send();

    };
    q1.send()
  });
}





//main stuff
chrome.storage.local.get({"selected_areaid":"JP13"}, function (data) { //if not selected_areaid return default value:JP13
  let area_id = data["selected_areaid"];

  let authListener = (function(){
    let partialkey = null;
    let info = genRandomInfo();
    console.log("info in authListener",info);
    let modifyRequest = function(req) {
      let ifInit = req.initiator && req.initiator.toLowerCase().indexOf("chrome-extension")!=-1;  //initiator since chrome 63
      let ifTabId = req.tabId && req.tabId ==-1; //mean this request is not from tab
      if(ifInit || ifTabId){ 
          return {};
      }
      
      if (req.url.indexOf("auth1") != -1 && req.method.toLowerCase() == 'get') {

        //some x-radiko cannot captialize .because it exists before modification.
        //may be another feature
        req.requestHeaders = req.requestHeaders.filter(function(x) {
          return !IGNORELIST.includes(x.name.toLowerCase());
        });

        req.requestHeaders.push({
          name: "X-Radiko-User",
          value: info.userid
        });
        req.requestHeaders.push({
          name: "X-Radiko-App-Version",
          value: info.appversion
        });
        req.requestHeaders.push({
          name: "X-Radiko-App",
          value: "aSmartPhone7o"
        });
        req.requestHeaders.push({
          name: "X-Radiko-Device",
          value: info.device
        });
        req.requestHeaders.push({
          name: "User-Agent",
          value: info.useragent
        });


      } else if (req.url.indexOf("auth2") != -1 && req.method.toLowerCase() == 'get') {
        req.requestHeaders = req.requestHeaders.filter(function(x) {
          //save token here
          if (x.name.toLowerCase() == 'x-radiko-authtoken') {
            let res = (new ExpireToken()).add(area_id, x.value);
            // authTokens[area_id] = { token: x.value , requestTime : Date.now()}
          }
          return !IGNORELIST.includes(x.name.toLowerCase());
        });


        req.requestHeaders.push({
          name: "X-Radiko-User",
          value: info.userid
        });
        req.requestHeaders.push({
          name: "X-Radiko-App-Version",
          value: info.appversion
        });
        req.requestHeaders.push({
          name: "X-Radiko-App",
          value: "aSmartPhone7o"
        });
        req.requestHeaders.push({
          name: "X-Radiko-Device",
          value: info.device
        });
        req.requestHeaders.push({
          name: "User-Agent",
          value: info.useragent
        });

        req.requestHeaders.push({
          name: "X-Radiko-Partialkey",
          value: partialkey
        });
        partialkey = null;


        req.requestHeaders.push({
          name: "X-Radiko-Connection",
          value: "wifi"
        });

        let gps_info = genGPS(area_id);
        console.log("use gps:", gps_info);

        req.requestHeaders.push({
          name: "X-Radiko-Location",
          value: gps_info
        });

        //save token

      }
      return {
        requestHeaders: req.requestHeaders
      };
    } ;
    let modifyResponse = function(resp) {
      let ifInit = resp.initiator && resp.initiator.toLowerCase().indexOf("chrome-extension")!=-1;  //initiator since chrome 63
      let ifTabId = resp.tabId && resp.tabId ==-1; //mean this resp is not from tab
      if(ifInit || ifTabId){ 
          return {};
      }


      let offset = 0;
      let length = 0;
      for (let i = 0; i < resp.responseHeaders.length; i++) {
        if (resp.responseHeaders[i].name.toLowerCase() == "x-radiko-keyoffset") {
          offset = parseInt(resp.responseHeaders[i].value);
          resp.responseHeaders[i].value = "0"; //to avoid too big offset cause radiko's js error
        }
        if (resp.responseHeaders[i].name.toLowerCase() == "x-radiko-keylength") {
          length = parseInt(resp.responseHeaders[i].value);
        }

      }

      partialkey = btoa(atob(aSmartPhone7o_key).slice(offset, offset + length));
      console.log("offset", offset, "length", length, "partial", partialkey);


      return {
        responseHeaders: resp.responseHeaders
      };
    };
    return {modifyRequest: modifyRequest, modifyResponse:modifyResponse};
  })();
  //clean previous unfinshed recording or downloading content if exists.
  chrome.storage.local.clear(function() {
    chrome.storage.local.set({
      "selected_areaid": area_id
    }, function() {});
  });

  chrome.browserAction.setBadgeText && chrome.browserAction.setBadgeText({text: ""}); //clean badgetext when crash
  // //cookie may not be set here?
  // chrome.cookies.set({ url: "http://radiko.jp/", name: "default_area_id", value: area_id },function(c){
  //   console.log("set cookie",c);
  // });

  chrome.runtime.onMessage.addListener(
    function(msg, sender, respCallback) {
      if (msg["update-area"]) {
        area_id = msg["update-area"];
        chrome.storage.local.set({
          selected_areaid: area_id
        }, function() {});
        // fix incognito mode cookie problem
        chrome.cookies.getAllCookieStores(function(storeInfo){
          storeInfo.forEach(function(v,idx,a){
            chrome.cookies.set({
              domain: "http://radiko.jp/",
              name: "default_area_id",
              value: area_id,
              storeId: v.id,
            });
            chrome.cookies.set({
              domain: "https://radiko.jp/",
              name: "default_area_id",
              value: area_id,
              storeId: v.id,
            });
          })
        })

      } else if (msg["get-area"]){
          respCallback({"get-area":area_id});
      } else if (msg["start-recording"]) {
        let radioname = msg["start-recording"];
        console.log("Strart recording", radioname);
        chrome.storage.local.set({
          "current_recording": {
            "radioname": radioname,
            count: 0
          }
        }, function() {
          console.log("Add recording listener");
          //TODO 2 kind of listener ? for rpaa and previous? 
          // USE tabid and chrome.tabs.query->tab.id? or current only one recording?
              /* known type of m3u8 for both areafree and timefree
                               set(ET.fromstring(https://radiko.jp/v3/station/stream/pc_html5/<radioname>.xml).findall(".//url[@areafree='0'][@timefree='0']/playlist_create_url"))
                                       https://rd-wowza-radiko.radiko-cf.com/so/playlist.m3u8
                                       https://rpaa.smartstream.ne.jp/so/playlist.m3u8
                                       https://f-radiko.smartstream.ne.jp/<radioname>/_definst_/simul-stream.stream/playlist.m3u8
                                       https://si-f-radiko.smartstream.ne.jp/so/playlist.m3u8
              */
              /* Known Type of AAC url
                                       https://rd-wowza-radiko.radiko-cf.com/segments/o/A/<radioname>/<date>/<date>_<time>_<seg>.aac
                                       https://rpaa.smartstream.ne.jp/segments/o/B/e/E/<seg>.aac
                                       https://f-radiko.smartstream.ne.jp/<radioname>/_definst_/simul-stream.stream/media-uv4f4m9dn_w2134393784_575547.aac?<params>
                                       https://si-f-radiko.smartstream.ne.jp/segments/o/B/<radioname>/<date>/<date>_<time>_<seg>.aac
              */
          chrome.webRequest.onBeforeSendHeaders.addListener( //for both (firefox can in onBeforeRequest with blocking,chrome can in onSendHeaders with requestHeaders) 
            streamListener(), {
              urls: [
              "*://*.smartstream.ne.jp/" + radioname + "/*.aac*",
              "*://rpaa.smartstream.ne.jp/segments/*.aac*",
              "*://*.radiko-cf.com/segments/*/*/"+radioname+"/*.aac*",
              "*://*.smartstream.ne.jp/segments/*/*/"+radioname+"/*.aac*"
              ]
              ,tabId:msg["tabId"] //restrict to specific tabid
            } // may specific detailed FM name to avoid save other stream? 
            // is filter case sensitive??? yes path is case sensitive but domain is not
            , ["blocking", "requestHeaders"]
          );
          // if(!chrome.runtime.onMessage.hasListener(stopme)){
          //   console.log("install stop-recording msg listener only once!");
          //   chrome.runtime.onMessage.addListener(stopme)
          // }
          respCallback();
        });
        chrome.browserAction.setIcon && chrome.browserAction.setIcon({
          path: 'Circle-icons-radio-red-48.png'
        })



      } else if (msg["download-timeshift"]) {
        console.log("start donwload timeshift");
        let link = msg["download-timeshift"];
        chrome.storage.local.get({"timeshift_list":[]},function(data){
          let list = data["timeshift_list"];
          list.push(link);
          chrome.storage.local.set({"timeshift_list":list},function(){
            chrome.browserAction.setBadgeBackgroundColor && chrome.browserAction.setBadgeBackgroundColor({color: "#e73c64"});
            chrome.browserAction.setBadgeText && chrome.browserAction.setBadgeText({text:list.length.toString()});
            downloadtimeShift(msg["download-timeshift"], area_id);
          })
        });
        //TOFO: check duplicate here
      } else if ( msg["share-redirect"]) {
        let param = msg["share-redirect"];
        chrome.tabs.update(sender.tab.id , {"url":"https://radiko.jp/#!/ts/"+param.station+"/"+param.t});
      }
    });


  chrome.webRequest.onBeforeRequest.addListener(
    function(req) {
      chrome.cookies.getAllCookieStores(function(storeInfo){
        storeInfo.forEach(function(v,idx,a){
          if(v.tabIds.includes(req.tabId)){
            chrome.cookies.set({
              url: "http://radiko.jp/",
              name: "default_area_id",
              value: area_id,
              storeId: v.id,
            });
            chrome.cookies.set({
              url: "https://radiko.jp/",
              name: "default_area_id",
              value: area_id,
              storeId: v.id,
            });
          }
        })
      })
      

      return {
        cancel: true
      };
    }, {
      urls: ["*://*.radiko.jp/area*"]
    }, ["blocking"]
  );




  chrome.webRequest.onBeforeSendHeaders.addListener(
    function mobileListener(){
      let modifier = [];
      return function(req) {
        for (let i = 0; i < req.requestHeaders.length; i++) {
          if (req.requestHeaders[i].name.toLowerCase() == "user-agent") {
            let ua = req.requestHeaders[i].value.toLowerCase();
            if (ua.indexOf("android") != -1 || ua.indexOf("mobile") != -1) {
              req.requestHeaders[i].value = req.requestHeaders[i].value.replace(/android.*?\;/gi, "").replace(/mobile/gi, ""); //ugly
              console.log(req.requestHeaders[i].value)
              if (browser && browser.contentScripts) {
                //chrome.runtime.getPlatformInfo(function(info) {info.os == chrome.runtime.PlatformOs.ANDROID} )
                // >= firefox android 59 
                if (modifier.length == 0) { //and unregister?
                  modifier.push(browser.contentScripts.register({
                    matches: ["*://*.radiko.jp/*"], //asterisk necessary?
                    js: [{
                      file: "ui/mobile_start.js"
                    }], //DOMContentLoaded
                    css: [{
                      file: "ui/mobile.css"
                    }],
                    runAt: "document_start"
                  })); //must keep a reference ,otherwise it will not work.
                }

                //only add once!!! and need removeListener?
                chrome.webRequest.onBeforeRequest.addListener(function(req) {
                  //"https://radiko.jp/mobile/#!/timeshift"  -> http://radiko.jp/#!/timeshift
                  // let item = /\/#!\/(.*)/g.exec(req.url)[0]
                  return {
                    redirectUrl: "http://radiko.jp"
                  };
                }, {
                  urls: ["*://radiko.jp/mobile/#!/*"]
                }, ["blocking"]);
                chrome.webRequest.handlerBehaviorChanged(function() {
                  console.log("call handlerBehaviorChanged")
                }); //expensive !! for mobile reload correctly?                            
              }
              //do not redirect to mobile app download page via change to pc useragents
              //may be a feature because real android device does not send this request
            }
          }
        }
        return {
          requestHeaders: req.requestHeaders
        };
      }
    }(), {
      urls: ["*://*.radiko.jp/"]
    }, ["blocking", "requestHeaders"]
  );

  // or just 
  //Object.values(chrome.webRequest.OnBeforeSendHeadersOptions) 
  //Object.values(chrome.webRequest.OnHeadersReceivedOptions) 
  let optReqSpec = ["blocking", "requestHeaders"];
  let optRespSpec = ["blocking", "responseHeaders"];
  // else firefox or chrome <72
  if (chrome.webRequest.OnBeforeSendHeadersOptions.hasOwnProperty("EXTRA_HEADERS")){
    //chrome 72+
    optReqSpec.push("extraHeaders");
  }
  if (chrome.webRequest.OnHeadersReceivedOptions.hasOwnProperty("EXTRA_HEADERS")){
    //chrome 72+
    optRespSpec.push("extraHeaders");
  }


  // affect self xhr tooooooooo
  chrome.webRequest.onBeforeSendHeaders.addListener(
    authListener.modifyRequest, {
      urls: ["*://*.radiko.jp/v2/api/auth*"]
    }, optReqSpec
  );

  chrome.webRequest.onHeadersReceived.addListener(
    authListener.modifyResponse, {
      urls: ["*://*.radiko.jp/v2/api/auth1"]
    }, optRespSpec
  );



  //http://f-radiko.smartstream.ne.jp/*/_definst_/simul-stream.stream/playlist.m3u8?station_id=*&l=15&lsid=AAM_UUID&type=b (see connectionType b->areafree c->notfree?)

  // for all timeshift/areafree
  chrome.webRequest.onBeforeSendHeaders.addListener(
      function(req) {

      //let downloadTimeshift handle itself
      let ifInit = req.initiator && req.initiator.toLowerCase().indexOf("chrome-extension")!=-1;  //initiator since chrome 63
      let ifTabId = req.tabId && req.tabId ==-1; //mean this request is not from tab
      if(ifInit || ifTabId){ 
          return {};
      }
      

      console.log("modify timeshift token!!!!!!");
      let radioname;
      (new URL(req.url)).search.slice(1).split('&').map(function(kv) {
        let s = kv.split('=');
        switch (s[0]) {
          case 'station_id':
            radioname = s[1];
            break;
        }
      });

      let res = retTokenByRadioname(radioname);
      let use_token = res[0];
      let use_area = res[1];

      req.requestHeaders = req.requestHeaders.filter(function(x) {
        return !["x-radiko-authtoken","x-radiko-areaid"].includes(x.name.toLowerCase()); //remove previous token
      });
      req.requestHeaders.push({
        name: "X-Radiko-AuthToken",
        value: use_token
      });
      req.requestHeaders.push({
        name:"X-Radiko-AreaId",
        value:use_area
      })
      return {
        requestHeaders: req.requestHeaders
      };
    }, {
      urls: ["*://radiko.jp/v2/api/ts/playlist.m3u8?*" /*for timeshift*/ 
            ,"*://*.smartstream.ne.jp/*/playlist.m3u8?*" // some new apis
	    ,"*://*.radiko-cf.com/*/playlist.m3u8?*"
      ]
    }, ["blocking", "requestHeaders"]
  )

  chrome.webRequest.onHeadersReceived.addListener(function(req){
    for(let i=0;i<req.responseHeaders.length;i++ ){
      if( req.responseHeaders[i].name.toLowerCase() == "access-control-allow-origin"){
        return
      }
    }
    req.responseHeaders.push({
      name: "Access-Control-Allow-Origin",
      value: "http://radiko.jp"
    }); 
    return {
      responseHeaders: req.responseHeaders
    };
  },{urls:["*://media.radiko.jp/*.aac"]},["blocking","responseHeaders"])


/*
    //TODO: add block statistics request filter
    chrome.webRequest.onBeforeRequest.addListener(function(req){
      //block statiats
      //1.http://log2.radiko.jp/tstet*
      //2.http://pp.d2-apps.net/v1/impressions/log*  https://pp.d2-apps.net/v1/sync  //in timeshift?
      //3.http://penta.a.one.impact-ad.jp/dc
      return {cancel:true}
    }, {urls:["http://log2.radiko.jp/*","*://*.d2-apps.net/*"]})
*/



});
